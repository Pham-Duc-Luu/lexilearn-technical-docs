---
sidebar_position: 3
---

# Lexilearn ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒªã®ä»•çµ„ã¿ ğŸš€

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€**React** ã¨ **Vite** ã‚’ä½¿ç”¨ã—ã¦æ§‹ç¯‰ã•ã‚ŒãŸãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰å­¦ç¿’ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã‚ã‚‹ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒª **Lexilearn** ã®ä»•çµ„ã¿ã‚’èª¬æ˜ã—ã¾ã™ã€‚ã‚¢ãƒ—ãƒªã§ã¯ã€**React Router** ã‚’ä½¿ã£ã¦ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ç®¡ç†ã—ã€**Redux** ã‚’ä½¿ã£ã¦çŠ¶æ…‹ã‚’ç®¡ç†ã—ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªè¨­å®šã‚’è¡Œã†ãŸã‚ã«è¤‡æ•°ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆprovidersï¼‰ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ğŸŒŸ

## æ¦‚è¦ ğŸŒ

Lexilearn ã¯ã€**React** ã§æ§‹ç¯‰ã•ã‚ŒãŸ Web ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒªã§ã€ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ **Vite** ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€é«˜ã„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ã‚¹ãƒ ãƒ¼ã‚ºãªé–‹ç™ºä½“é¨“ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚ä¸»ãªæ§‹æˆè¦ç´ ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š

- **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**ï¼š**React Router** ã‚’ä½¿ç”¨ã—ã¦ãƒšãƒ¼ã‚¸ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç®¡ç†ã€‚
- **çŠ¶æ…‹ç®¡ç†**ï¼š**Redux Toolkit** ã‚’ä½¿ã£ã¦ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ãƒ†ãƒ¼ãƒˆã‚’ç®¡ç†ã€‚
- **API å‘¼ã³å‡ºã—**ï¼šå®šç¾©æ¸ˆã¿ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’é€šã˜ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ API ã¨é€£æºã€‚
- **ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆProvidersï¼‰**ï¼šReduxã€Apollo Clientã€Google OAuthã€UI ãªã©ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šã‚’æä¾›ã€‚

ã“ã®ã‚¢ãƒ—ãƒªã¯ã€ãƒ­ã‚°ã‚¤ãƒ³ï¼ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ã€ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ã®ç®¡ç†ã€å¾©ç¿’ã€èªå½™ã‚»ãƒƒãƒˆï¼ˆdeskï¼‰ã®ç·¨é›†ãªã©ã®æ©Ÿèƒ½ã‚’ã‚µãƒãƒ¼ãƒˆã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã§é«˜åŠ¹ç‡ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚ğŸ› ï¸

## æ§‹é€ ã¨ä»•çµ„ã¿ ğŸ“‚

### 1. ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ: `index.html` ğŸ“„

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆã«ã‚ã‚‹ `index.html` ã¯ã€ã‚¢ãƒ—ãƒªã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã§ã™ï¼š

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link href="/src/assets/icon.svg" rel="icon" type="image/svg+xml" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Lexilearn</title>
  </head>
  <body>
    <div id="root"></div>
    <script src="/src/main.tsx" type="module"></script>
  </body>
</html>
```

- **æ©Ÿèƒ½**:
  - `id="root"` ã‚’æŒã¤ `div` ã‚’ä½œæˆã—ã€React ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒã‚¦ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒˆã¨ã™ã‚‹ã€‚
  - ã‚¢ãƒ—ãƒªã®åˆæœŸåŒ–ã«å¿…è¦ãª `main.tsx` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ã€‚
  - åŸºæœ¬çš„ãª meta ã‚¿ã‚°ã¨ favicon ã‚’è¨­å®šã™ã‚‹ã€‚

### 2. React Router ã‚’ä½¿ã£ãŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° ğŸ›¤ï¸

`src/main.tsx` ãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ã€**React Router** ã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ«ãƒ¼ãƒˆï¼ˆç”»é¢é·ç§»ï¼‰ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆå…±é€šæ çµ„ã¿ï¼‰ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

```tsx
import { StrictMode } from 'react';
import { createRoot } from 'react-dom/client';
import { BrowserRouter, Route, Routes } from 'react-router';
import './i18n/config.ts';
import AuthPage from '@/pages/auth/index.tsx';
import './globals.css';
import MainLayout from './layout.tsx';
import AuthLayout from './pages/auth/layout.tsx';
import EditDeskVocabLayout from './pages/desk/edit-flashcard/layout.tsx';
import EditDeskVocalPage from './pages/desk/edit-flashcard/page.tsx';
import DeskPage from './pages/home/desk/[deskId]/page.tsx';
import HomePage from './pages/home/HomePage.tsx';
import HomeLayout from './pages/home/layout.tsx';
import LibraryStatusLayout from './pages/home/library/[status]/layout.tsx';
import LibraryLayout from './pages/home/library/layout.tsx';
import ProfilePage from './pages/home/profile/page.tsx';
import {
  ComponentsUrl,
  PlayGroundLayout,
} from './pages/play-ground/layout.tsx';
import ReviewFlashcardLayout from './pages/review/flashcard/layout.tsx';
import ReviewFlashcard from './pages/review/flashcard/page.tsx';
import { routeProto } from './redux/store/route.slice.ts';

const root = document.getElementById('root');

createRoot(root!).render(
  <StrictMode>
    <BrowserRouter>
      <Routes>
        <Route path="" ahead-of-timeCompileelement={<MainLayout></MainLayout>}>
          <Route
            path="auth"
            element={
              <AuthLayout>
                <AuthPage></AuthPage>
              </AuthLayout>
            }
          />
          <Route path="home" element={<HomeLayout></HomeLayout>}>
            <Route index element={<HomePage></HomePage>}></Route>
            <Route path="library" element={<LibraryLayout></LibraryLayout>}>
              <Route
                path=":status/:page"
                element={<LibraryStatusLayout></LibraryStatusLayout>}></Route>
            </Route>
            <Route path="desk">
              <Route path=":deskId" element={<DeskPage></DeskPage>}></Route>
            </Route>
            <Route path="profile" element={<ProfilePage></ProfilePage>}></Route>
          </Route>
          <Route
            path="edit-desk/:deskId"
            element={<EditDeskVocabLayout></EditDeskVocabLayout>}>
            <Route
              index
              element={<EditDeskVocalPage></EditDeskVocalPage>}></Route>
          </Route>
          <Route
            path={routeProto.REVIEW_DESK_FLASHCARD()}
            element={<ReviewFlashcardLayout></ReviewFlashcardLayout>}>
            <Route index element={<ReviewFlashcard></ReviewFlashcard>}></Route>
          </Route>
          <Route
            path="components/"
            element={<PlayGroundLayout></PlayGroundLayout>}>
            {ComponentsUrl.map((item, index) => (
              <Route
                key={index}
                path={item.url}
                element={item.component}></Route>
            ))}
          </Route>
        </Route>
      </Routes>
    </BrowserRouter>
  </StrictMode>
);
```

- **ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ§‹æˆ**:
  - **MainLayout**: ã™ã¹ã¦ã®ãƒ«ãƒ¼ãƒˆã‚’å›²ã‚€å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€‚
  - ä¸»ãªãƒ«ãƒ¼ãƒˆ:
    - `/auth`: ãƒ­ã‚°ã‚¤ãƒ³/æ–°è¦ç™»éŒ²ãƒšãƒ¼ã‚¸ï¼ˆ`AuthLayout`, `AuthPage`ï¼‰ã€‚
    - `/home`: ãƒ›ãƒ¼ãƒ ç”»é¢ã‚’å«ã‚€:
      - `/home`ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼‰: ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ï¼ˆ`HomePage`ï¼‰ã€‚
      - `/home/library/:status/:page`: ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ã®çŠ¶æ…‹åˆ¥ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆ`LibraryStatusLayout`ï¼‰ã€‚
      - `/home/desk/:deskId`: èªå½™ã‚»ãƒƒãƒˆã®è©³ç´°ï¼ˆ`DeskPage`ï¼‰ã€‚
      - `/home/profile`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼ˆ`ProfilePage`ï¼‰ã€‚
    - `/edit-desk/:deskId`: èªå½™ã‚»ãƒƒãƒˆã®ç·¨é›†ï¼ˆ`EditDeskVocabLayout`, `EditDeskVocalPage`ï¼‰ã€‚
    - `/review/desk/flashcard`: ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ã®å¾©ç¿’ï¼ˆ`ReviewFlashcardLayout`, `ReviewFlashcard`ï¼‰ã€‚
    - `/components/*`: è©¦é¨“ç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`PlayGroundLayout`ï¼‰ã€‚

### 3. ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ: `MainLayout` ğŸ—ï¸

`src/layout.tsx` ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§ã‚ã‚‹ `MainLayout` ã‚’å®šç¾©ã—ã¾ã™ã€‚

```tsx
import { Outlet } from 'react-router';
import { SettingBox } from './components/SettingBox';
import { Providers } from './Providers';

export default function MainLayout() {
  return (
    <>
      <Providers>
        <div className="relative">
          <Outlet></Outlet>
          <SettingBox></SettingBox>
        </div>
      </Providers>
    </>
  );
}
```

- **æ©Ÿèƒ½**:
  - **Providers**: ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šï¼ˆReduxã€Apollo Clientã€Google OAuth ãªã©ï¼‰ã‚’æä¾›ã€‚
  - **Outlet**: ãƒ«ãƒ¼ãƒˆã«å¿œã˜ã¦å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãƒšãƒ¼ã‚¸ï¼‰ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹å ´æ‰€ã€‚
  - **SettingBox**: è¨­å®šç”¨ã® UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆä¾‹ï¼šè¨€èªã€ãƒ†ãƒ¼ãƒãªã©ï¼‰ã€‚

### 4. Providers: ã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®š âš™ï¸

`src/Providers.tsx` ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ç’°å¢ƒã‚’è¨­å®šã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚

```tsx
import createApolloClient from '@/api/apolloClient';
import MouseContextProvider from '@/context/mouse-context';
import { ApolloProvider } from '@apollo/client';
import { HeroUIProvider } from '@heroui/react';
import { GoogleOAuthProvider } from '@react-oauth/google';
import { HelmetProvider } from 'react-helmet-async';
import { Provider } from 'react-redux';
import { ToastContainer } from 'react-toastify';
import { PersistGate } from 'redux-persist/integration/react';
import AuthProvider from './provider/auth.provider';
import {
  persistor,
  ProtoStore,
  useAppSelector,
} from './redux/store/ProtoStore.slice';

export function ApolloCustomeProvider({
  children,
}: {
  children: React.ReactNode;
}) {
  const { auth } = useAppSelector((state) => state.persistedReducer);
  return (
    <ApolloProvider client={createApolloClient({ token: auth.access_token })}>
      <PersistGate loading={null} persistor={persistor}>
        <Provider store={ProtoStore}>{children}</Provider>
      </PersistGate>
    </ApolloProvider>
  );
}

export function Providers({ children }: { children: React.ReactNode }) {
  return (
    <HelmetProvider>
      <HeroUIProvider>
        <ToastContainer autoClose={3000}></ToastContainer>
        <PersistGate loading={null} persistor={persistor}>
          <Provider store={ProtoStore}>
            <MouseContextProvider>
              <GoogleOAuthProvider
                clientId={`${import.meta.env.VITE_PUBLIC_AUTH_GOOGLE_ID}`}>
                <AuthProvider>{children}</AuthProvider>
              </GoogleOAuthProvider>
            </MouseContextProvider>
          </Provider>
        </PersistGate>
      </HeroUIProvider>
    </HelmetProvider>
  );
}
```

- **ä¸»ãªãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼**:
  - **HelmetProvider**: `<head>` ã‚¿ã‚°ã®ç®¡ç†ï¼ˆSEOã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼‰ã€‚
  - **HeroUIProvider**: `@heroui/react` ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‹ã‚‰ UI ã‚’æä¾›ã€‚
  - **ToastContainer**: ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã®è¡¨ç¤ºã€‚3 ç§’å¾Œã«è‡ªå‹•ã§é–‰ã˜ã‚‹ã€‚
  - **PersistGate**: `redux-persist` ã‚’ä½¿ã£ãŸ Redux çŠ¶æ…‹ã®æ°¸ç¶šåŒ–ã‚’ã‚µãƒãƒ¼ãƒˆã€‚
  - **Provider**: Redux ã‚¹ãƒˆã‚¢ï¼ˆ`ProtoStore`ï¼‰ã¨ã‚¢ãƒ—ãƒªã‚’æ¥ç¶šã€‚
  - **MouseContextProvider**: ãƒã‚¦ã‚¹ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ç®¡ç†ã€‚
  - **GoogleOAuthProvider**: Google OAuth ã§ã®ãƒ­ã‚°ã‚¤ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆã€‚
  - **AuthProvider**: ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã®ç®¡ç†ã€‚
  - **ApolloProvider** (`ApolloCustomeProvider` å†…): Redux ã‚¹ãƒˆã‚¢ã® `access_token` ã‚’åˆ©ç”¨ã—ã¦ GraphQL API ã‚’å‘¼ã³å‡ºã™ãŸã‚ã® Apollo ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æä¾›ã€‚

### 5. Redux ã«ã‚ˆã‚‹çŠ¶æ…‹ç®¡ç† ğŸ—ƒï¸

ã‚¢ãƒ—ãƒªã¯ **Redux** ã¨ **Redux Toolkit** ã‚’ä½¿ã£ã¦ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªçŠ¶æ…‹ç®¡ç†ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚Redux ã¯ã‚¢ãƒ—ãƒªã®ãƒ­ã‚¸ãƒƒã‚¯ã®åŸºç›¤ã§ã‚ã‚Šã€**actions**ã€**reducer**ã€**dispatch** ã¨ã„ã£ãŸã‚³ã‚¢æ¦‚å¿µã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚ï¼ˆè©³ç´°ã¯ [Redux ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://redux.js.org/) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼‰

`src/redux/store/ProtoStore.slice.ts` ãƒ•ã‚¡ã‚¤ãƒ«ã¯ Redux ã‚¹ãƒˆã‚¢ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ï¼š

```tsx
import { userGQLApi } from '@/api/user service/graphql/user.graphql.api';
import { combineReducers, configureStore } from '@reduxjs/toolkit';
import { setupListeners } from '@reduxjs/toolkit/query';
import {
  FLUSH,
  PAUSE,
  PERSIST,
  PURGE,
  REGISTER,
  REHYDRATE,
} from 'redux-persist';
import localStorage from 'redux-persist/lib/storage';
import AuthProtoReducer from './Auth.proto.slice';
import CardNodeProtoReducer from './CardNode.proto.slice';
import DeskProtoReducer from './Desk.proto.slice';
import EditDeskReducer from './editDesk.slice';
import HomepgeProtoReducer from './HomePage.proto.slice';
import LibraryProtoReducer from './LibraryStore.slice';
import NewDeskProtoReducer from './newDesk.slice';
import ReviewFlashcardReducer from './ReviewFlashcard.slice';
import { generatorApi } from '@/api/generator service/audio-generator.service';
import { userImageApi } from '@/api/image service/user-image.api';
import { searchPhotoApi } from '@/api/search/search.photo.api';
import { deskApi, userApi } from '@/api/user service';
import { authApi } from '@/api/user service/authentication.api';
import { flashcardApi } from '@/api/user service/flashcard.api';
import { useDispatch, useSelector } from 'react-redux';
import { persistReducer } from 'redux-persist';

const rootReducer = combineReducers({
  auth: AuthProtoReducer,
  CardNode: CardNodeProtoReducer,
  HomePage: HomepgeProtoReducer,
  NewDesk: NewDeskProtoReducer,
  ReviewFlashCard: ReviewFlashcardReducer,
  LibraryPage: LibraryProtoReducer,
  DeskPage: DeskProtoReducer,
  EditDeskPage: EditDeskReducer,
});

const persistConfig = {
  key: 'root',
  whitelist: ['auth'],
  storage: localStorage,
};

const persistedReducer = persistReducer(persistConfig, rootReducer);

export const ProtoStore = configureStore({
  reducer: {
    persistedReducer,
    [authApi.reducerPath]: authApi.reducer,
    [userApi.reducerPath]: userApi.reducer,
    [userGQLApi.reducerPath]: userGQLApi.reducer,
    [searchPhotoApi.reducerPath]: searchPhotoApi.reducer,
    [userImageApi.reducerPath]: userImageApi.reducer,
    [deskApi.reducerPath]: deskApi.reducer,
    [flashcardApi.reducerPath]: flashcardApi.reducer,
    [generatorApi.reducerPath]: generatorApi.reducer,
  },
  middleware: (getDefaultMiddleware) =>
    getDefaultMiddleware({
      serializableCheck: {
        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],
      },
    }).concat(
      authApi.middleware,
      userApi.middleware,
      userGQLApi.middleware,
      searchPhotoApi.middleware,
      userImageApi.middleware,
      deskApi.middleware,
      flashcardApi.middleware,
      generatorApi.middleware
    ),
});

setupListeners(ProtoStore.dispatch);

export type RootState = ReturnType<typeof ProtoStore.getState>;
export type AppDispatch = typeof ProtoStore.dispatch;
export type AppStore = typeof ProtoStore;

export const useAppDispatch = useDispatch.withTypes<AppDispatch>();
export const useAppSelector = useSelector.withTypes<RootState>();

export const persistor = persistStore(ProtoStore);
```

- **æ©Ÿèƒ½**:
  - **combineReducers**: èªè¨¼ã€ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©ã€ç•°ãªã‚‹æ©Ÿèƒ½ã®ãƒªãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼ã‚’çµåˆã€‚
  - **persistReducer**: èªè¨¼çŠ¶æ…‹ï¼ˆauthï¼‰ã‚’ `localStorage` ã«ä¿å­˜ã—ã€ãƒšãƒ¼ã‚¸å†èª­ã¿è¾¼ã¿å¾Œã‚‚èªè¨¼çŠ¶æ…‹ã‚’ç¶­æŒã€‚
  - **configureStore**: ãƒªãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼ã¨ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ï¼ˆAPI ã‚³ãƒ¼ãƒ«ç”¨ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢å«ã‚€ï¼‰ã‚’ä½¿ã£ã¦ Redux ã‚¹ãƒˆã‚¢ã‚’ä½œæˆã€‚
  - **Middleware**: Redux Toolkit Query ã‚’ä½¿ã£ãŸéåŒæœŸ API ã‚³ãƒ¼ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆã€‚
  - **setupListeners**: ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•å†å–å¾—ãªã©ã®æ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–ã€‚
- **ãƒªãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼ä¸€è¦§**:
  - `AuthProtoReducer`: èªè¨¼çŠ¶æ…‹ï¼ˆã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ï¼‰ã‚’ç®¡ç†ã€‚
  - `CardNodeProtoReducer`: ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†ã€‚
  - `HomepgeProtoReducer`ã€`LibraryProtoReducer`ã€`DeskProtoReducer`ãªã©: ç‰¹å®šãƒšãƒ¼ã‚¸ã®çŠ¶æ…‹ã‚’ç®¡ç†ã€‚
- **åˆ©ç”¨æ–¹æ³•**:
  - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ `useAppSelector` ã§çŠ¶æ…‹ã‚’å–å¾—ã—ã€`useAppDispatch` ã§ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’é€ä¿¡ã€‚

### 6. API ã‚³ãƒ¼ãƒ« ğŸ“¡

ã‚¢ãƒ—ãƒªã¯ `src/api` ãƒ•ã‚©ãƒ«ãƒ€å†…ã® API ã‚’ä»‹ã—ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨é€£æºã€‚ä¸»ãª API ã¯ä»¥ä¸‹ï¼š

- **authApi**: èªè¨¼å‡¦ç†ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ã€ç™»éŒ²ã€ãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–°ï¼‰ã€‚
- **userApi**, **userGQLApi**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ç®¡ç†ï¼ˆGraphQL ã¨ RESTï¼‰ã€‚
- **deskApi**, **flashcardApi**: å˜èªå¸³ã¨ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ç®¡ç†ã€‚
- **generatorApi**: ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ç”¨ã®éŸ³å£°ç”Ÿæˆã€‚
- **searchPhotoApi**, **userImageApi**: ç”»åƒæ¤œç´¢ã¨ç®¡ç†ã€‚

- **ä»•çµ„ã¿**:
  - Redux ã‚¹ãƒˆã‚¢ã® `access_token` ã‚’ä½¿ã£ã¦ã€**Apollo Client** (`createApolloClient`) ã§ GraphQL API ã‚’å‘¼ã³å‡ºã—ã€‚
  - **Redux Toolkit Query** ã§ã‚¯ã‚¨ãƒªç®¡ç†ã¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å®Ÿè£…ã€‚
  - API ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ Redux ã‚¹ãƒˆã‚¢ã«çµ„ã¿è¾¼ã¿ã€éåŒæœŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã€‚

### 7. ä¸»è¦æ©Ÿèƒ½ ğŸ¯

- **ãƒ­ã‚°ã‚¤ãƒ³/ç™»éŒ²**: `/auth` ãƒšãƒ¼ã‚¸ã§ Google OAuth ã‚„é€šå¸¸ãƒ­ã‚°ã‚¤ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆã€‚
- **ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸**: `/home` ã§å˜èªå¸³ãƒªã‚¹ãƒˆã‚„ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤ºã€‚
- **ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: `/home/library/:status/:page` ã§çŠ¶æ…‹åˆ¥ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€‚
- **å˜èªå¸³**: `/home/desk/:deskId` ã§å˜èªå¸³ã®è©³ç´°è¡¨ç¤ºã€‚
- **å˜èªå¸³ç·¨é›†**: `/edit-desk/:deskId` ã§ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ç·¨é›†ã€‚
- **ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰å¾©ç¿’**: `/review/desk/flashcard` ã§ SM-2 é–“éš”åå¾©ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½¿ã£ãŸå¾©ç¿’ã€‚
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«**: `/home/profile` ã§å€‹äººæƒ…å ±è¡¨ç¤ºã€‚
- **Playground**: `/components/*` ã§ UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿé¨“ã€‚

### 8. è£œåŠ©ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ ğŸ§©

- **i18n**: å¤šè¨€èªå¯¾å¿œï¼ˆ`src/i18n/config.ts`ã§åˆæœŸåŒ–ï¼‰ã€‚
- **ã‚°ãƒ­ãƒ¼ãƒãƒ« CSS**: `globals.css` ã«å…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’å®šç¾©ã€‚
- **ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥**: `react-toastify` ã§é€šçŸ¥è¡¨ç¤ºã€‚
- **SEO**: `react-helmet-async` ã§ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã€‚

## å‹•ä½œãƒ•ãƒ­ãƒ¼ âš™ï¸

1. **åˆæœŸåŒ–**:

   - ãƒ–ãƒ©ã‚¦ã‚¶ãŒ `index.html` ã‚’èª­ã¿è¾¼ã¿ã€`main.tsx` ã‚’èµ·å‹•ã€‚
   - Redux ã‚¹ãƒˆã‚¢ã‚’ãƒªãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼ã¨ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã§ä½œæˆã€‚
   - `MainLayout` ã§ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã€‚

2. **ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**:

   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ«ãƒ¼ãƒˆï¼ˆä¾‹ï¼š`/home`ï¼‰ã¸ã‚¢ã‚¯ã‚»ã‚¹ã€‚
   - React Router ãŒå¯¾å¿œãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨ãƒšãƒ¼ã‚¸ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆä¾‹ï¼š`HomeLayout` ã¨ `HomePage`ï¼‰ã€‚

3. **çŠ¶æ…‹ç®¡ç†**:

   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ `useAppSelector` ã§ Redux ã‚¹ãƒˆã‚¢ã‹ã‚‰çŠ¶æ…‹ã‚’å–å¾—ã€‚
   - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ `useAppDispatch` ã§é€ä¿¡ã—ã¦çŠ¶æ…‹æ›´æ–°ã€‚

4. **API ã‚³ãƒ¼ãƒ«**:

   - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ Apollo Client ã‚„ Redux Toolkit Query ã‚’ä½¿ã„ API ã¸ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€‚
   - ãƒ‡ãƒ¼ã‚¿ã¯ Redux ã‚¹ãƒˆã‚¢ã‚„ API ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜ã€‚

5. **ç”»é¢æç”»**:

   - Redux ã‚¹ãƒˆã‚¢ã®ãƒ‡ãƒ¼ã‚¿ã§ UI ã‚’æç”»ã€‚
   - ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚„ã‚¨ãƒ©ãƒ¼ã‚’è¡¨ç¤ºã€‚

## ã¾ã¨ã‚ ğŸ‰

Lexilearn ã‚¢ãƒ—ãƒªã¯**React**ã€**Vite**ã€**Redux**ã€**React Router**ã§æ§‹ç¯‰ã•ã‚ŒãŸå¼·åŠ›ãªãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚æ˜ç¢ºãªæ§‹é€ ã¨é›†ä¸­ç®¡ç†ã•ã‚ŒãŸçŠ¶æ…‹ç®¡ç†ã€åŠ¹ç‡çš„ãª API é€£æºã«ã‚ˆã‚Šã€ã‚¹ãƒ ãƒ¼ã‚ºã§ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã•ã‚ŒãŸå­¦ç¿’ä½“é¨“ã‚’æä¾›ã—ã¾ã™ã€‚ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãŒã‚°ãƒ­ãƒ¼ãƒãƒ«è¨­å®šã‚’æ‹…ã„ã€Redux ã¨ API ã‚³ãƒ¼ãƒ«ãŒã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ”¯ãˆã€ç›´æ„Ÿçš„ã§åŠ¹æœçš„ãªå­¦ç¿’ãƒ„ãƒ¼ãƒ«ã¨ãªã£ã¦ã„ã¾ã™ã€‚ğŸŒŸ
